

## 검도 자세 분석 코칭 솔루션 구현 계획

### 📋 프로젝트 개요
PC(Windows) 대상의 검도 자세 분석 및 코칭 솔루션으로, 웹캠 영상과 기준 영상을 비교하며 AI 기반 실시간 포즈 분석을 제공하는 전문 스포츠 코칭 도구입니다.

---

### 🎨 Phase 1: 디자인 시스템 및 기본 레이아웃 구축

**1. 커스텀 디자인 시스템 적용**
- 진청색 계열 다크 테마 색상 팔레트 구성
- 포즈 피드백 전용 색상 (Perfect/Good/Fair/Poor)
- 타이포그래피 스케일 및 간격 시스템
- Glass morphism 효과 및 그림자 시스템

**2. 메인 레이아웃 구조 (1920×1080 기준)**
- 헤더 (80px): 로고, 네비게이션, 사용자 정보
- 좌측 사이드바 (240px): 기술 라이브러리, 설정 메뉴
- 메인 콘텐츠 영역: 영상 비교 뷰
- 우측 컨트롤 패널 (320px): 분석 결과, 피드백

---

### 📹 Phase 2: 영상 비교 뷰 (Split View) 구현

**1. 기준 영상 패널 (Reference)**
- 사전 등록된 기술 라이브러리 (기본형, 머리치기, 손목치기 등)
- 사용자 커스텀 영상 업로드 기능
- 영상 썸네일 목록 및 카테고리 분류

**2. 웹캠 패널 (Live)**
- WebRTC 기반 실시간 웹캠 스트리밍
- 카메라 선택 및 해상도 설정
- 녹화 시작/정지 기능

**3. 뷰 모드 전환**
- 좌우 분할 모드 (50:50)
- 오버레이 모드 (두 영상 겹침)
- 토글 버튼으로 전환

---

### 🎮 Phase 3: 비디오 컨트롤러 구현

**1. 재생 컨트롤**
- 재생/일시정지 버튼
- 프로그레스 바 (클릭 및 드래그로 이동)
- 현재 시간 / 전체 시간 표시

**2. 고급 컨트롤**
- 슬로우모션 (0.25x, 0.5x, 0.75x, 1x)
- 프레임 단위 앞/뒤 이동 버튼
- 구간 반복 재생 설정

**3. 동기화**
- 두 영상 동시 재생/정지
- 기준점 맞추기 기능

---

### 🤖 Phase 4: AI 포즈 분석 및 시각화

**1. MediaPipe 연동**
- Pose Estimation 모델 적용
- 33개 관절 포인트 추출

**2. 스켈레톤 렌더링**
- Canvas 기반 실시간 스켈레톤 오버레이
- 기준 동작 스켈레톤 (파란색)
- 현재 자세 스켈레톤 (초록색)

**3. 각도 분석 및 피드백**
- 주요 관절 각도 계산 (팔꿈치, 무릎, 어깨 등)
- 각도 오차 표시 (0-5°: Perfect, 5-10°: Good, 10-15°: Fair, 15°+: Poor)
- 실시간 피드백 배지 표시

**4. 가이드 화살표**
- 자세 교정 방향 시각적 안내
- 펄스 애니메이션 효과

---

### 📊 Phase 5: 분석 리포트 및 대시보드

**1. 실시간 분석 패널**
- 현재 정확도 점수 (원형 프로그레스 바)
- 주요 관절별 상태 표시
- 피드백 메시지 목록

**2. 세션 통계**
- 연습 시간 누적
- 평균 정확도 추이 차트 (Recharts 활용)
- 개선된 부분 하이라이트

**3. 히스토리**
- 이전 연습 세션 목록
- 세션별 상세 리포트

---

### ☁️ Phase 6: 백엔드 및 데이터 저장 (Lovable Cloud)

**1. 사용자 인증**
- 이메일/소셜 로그인
- 프로필 관리

**2. 데이터베이스 구조**
- 사용자 테이블 (profiles)
- 연습 세션 테이블 (practice_sessions)
- 분석 결과 테이블 (analysis_results)
- 기술 라이브러리 테이블 (techniques)

**3. 파일 저장소**
- 사용자 업로드 영상 저장 (Supabase Storage)
- 녹화 영상 저장

---

### 🧩 주요 컴포넌트 목록

| 컴포넌트 | 설명 |
|---------|------|
| MainLayout | 전체 레이아웃 (헤더, 사이드바, 콘텐츠, 패널) |
| SplitVideoView | 좌우 분할 영상 비교 뷰 |
| VideoPlayer | 커스텀 비디오 플레이어 |
| VideoControls | 재생 컨트롤 바 |
| WebcamCapture | 웹캠 스트리밍 컴포넌트 |
| PoseOverlay | 스켈레톤 렌더링 캔버스 |
| AnalysisPanel | 실시간 분석 결과 패널 |
| TechniqueLibrary | 기술 영상 라이브러리 |
| ProgressRing | 원형 진행률 표시 |
| AccuracyChart | 정확도 차트 |
| FeedbackBadge | 피드백 알림 배지 |

---

### 📅 구현 우선순위

1. **1단계**: 디자인 시스템 + 메인 레이아웃
2. **2단계**: 영상 비교 뷰 + 비디오 컨트롤러
3. **3단계**: 웹캠 연동 + 기본 녹화
4. **4단계**: MediaPipe 포즈 분석 + 스켈레톤 시각화
5. **5단계**: 실시간 피드백 + 분석 패널
6. **6단계**: 백엔드 연동 + 데이터 저장
7. **7단계**: 리포트 및 통계 대시보드

